{% extends "base.html" %}

{% block content %}

<h1>
  Task list
  <a href="{% url 'todotasks:task-create' %}" class="btn btn-primary link-to-page">
    Create
  </a>
</h1>

{% if task_list %}
{% for task in task_list %}
<h4>
  <a>{{ task.content }}</a>
    {% if task.is_done %}
      <a style="color: green">Done</a>
    {% else %}
      <a style="color: red">Not done</a>
    {% endif %}
    {% if task.is_done %}
      <a href="{% url 'todotasks:change-task-completion-status' pk=task.id %}" style="float: right" class="btn btn-secondary">Undo</a>
    {% else %}
      <a href="{% url 'todotasks:change-task-completion-status' pk=task.id %}" style="float: right" class="btn btn-success">Complete</a>
    {% endif %}
</h4>
<p>
  Created: {{ task.datetime }}
  <p style="color: brown">
     {% if task.deadline %}
       Deadline: {{ task.deadline }}
     {% endif %}
  </p>
</p>
<h6>
  Tags: {% for tag in task.tag.all %}
  <a>{{ tag.name }}</a>
  {% endfor %}
  <a href="{% url 'todotasks:task-update' pk=task.id %}">Update</a>
  <a href="{% url 'todotasks:task-delete' pk=task.id %}">Delete</a>
</h6>
<hr>
{% endfor %}
{% else %}
<p>No tasks in list</p>
{% endif %}
{% endblock %}
